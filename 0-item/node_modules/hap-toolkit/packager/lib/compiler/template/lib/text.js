"use strict";var tagSource="{{{([\\s\\S]+?)}}}|{{([\\s\\S]+?)}}",tagRE=new RegExp(tagSource,"g"),expRE=new RegExp(tagSource),htmlRE=new RegExp("^{{{[\\s\\S]*}}}$"),sexpRE=new RegExp("^{{{([\\s\\S]+?)}}}$|^{{([\\s\\S]+?)}}$");function parseText(e){if(e=e.replace(/\n/g,""),!tagRE.test(e))return null;for(var r,t,x,s,n,p=[],i=tagRE.lastIndex=0;r=tagRE.exec(e);)i<(t=r.index)&&p.push({value:e.slice(i,t)}),s=(n=42===(s=(x=htmlRE.test(r[0]))?r[1]:r[2]).charCodeAt(0))?s.slice(1):s,p.push({tag:!0,value:s.trim(),html:x,oneTime:n}),i=t+r[0].length;return i<e.length&&p.push({value:e.slice(i)}),p}function isExpr(e){return expRE.test(e)}function singleExpr(e){return sexpRE.test(e.trim())}function removeExprffix(e){return singleExpr(e)?e.replace(/^\s*{{/,"").replace(/}}\s*$/,""):e}function addExprffix(e){return singleExpr(e)||(e="{{"+e+"}}"),e}module.exports={parseText:parseText,isExpr:isExpr,singleExpr:singleExpr,addExprffix:addExprffix,removeExprffix:removeExprffix};